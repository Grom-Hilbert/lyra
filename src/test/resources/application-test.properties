# ===========================================
# Lyra 测试环境配置
# ===========================================

# 应用基础信息
spring.application.name=lyra-test
server.port=0

# 测试数据库配置 - H2内存数据库
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA 测试配置
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.h2.console.enabled=true

# 禁用安全认证（测试环境）
spring.autoconfigure.exclude=\
  org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,\
  org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration

# JWT 测试配置
lyra.jwt.secret=TestSecretKeyForJWTTokenGenerationAndValidation
lyra.jwt.expiration=60000
lyra.jwt.refresh-expiration=120000

# 文件存储测试配置
lyra.storage.base-path=./test-data/files
lyra.storage.temp-path=./test-data/temp
lyra.storage.max-file-size=10MB
lyra.storage.allowed-types=*

# 系统测试配置
lyra.system.max-users=10
lyra.system.default-space-quota=1GB
lyra.system.enable-version-control=true

# 监控配置（测试环境禁用安全）
management.security.enabled=false

# 日志配置
logging.level.tslc.beihaiyun.lyra=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG 